{"version":3,"sources":["components/toggleSwitch.js","api/parsePoints.js","components/selectBox.js","components/inputBox.js","components/multipleInputBox.js","drawing/drawFunctionPoints.js","tools/addPosition.js","tools/originIfUndefined.js","components/floatingPoint.js","canvas/pointCanvas.jsx","animations/absoluteAnimations/brownianMotion.js","constant.js","animations/absoluteAnimations/linear.js","animations/relativeAnimations/circular.js","pointSetter.js","tools/emptyArrayIfUndefined.js","tools/extractVariable.js","index.js"],"names":["Toggle","props","toggle","useRef","checkbox","name","ref","className","type","defaultChecked","value","onClick","onChange","current","checked","classList","onToggle","positionParser","array","pathPoints","i","length","push","x","y","SelectBox","options","selectedOption","InputBox","onSubmit","event","preventDefault","inputElement","document","getElementById","concat","handleInputChange","Number","id","target","console","log","MultipleInputBox","inputChange","newInputsInfo","inputsInfo","_","findIndex","info","class","map","drawFunctionPoints","ctx","points","style","color","width","sort","a","b","beginPath","point","index","nextPoint","moveTo","lineTo","strokeStyle","lineWidth","stroke","addPosition","p1","p2","originIfUndefined","displacement","isUndefined","FloatingPoint","initialPosition","useMemo","position","initialAnimationFrameCount","animationFrameCount","absoluteAnimationDisplacementRef","relativeAnimationDisplacementRef","useState","deltaX","deltaY","lastX","lastY","dragData","setDragData","updatePivotalPoint","key","absoluteAnimationDisplacement","relativeAnimationDisplacement","newPoint","handleDrag","animated","absoluteAnimation","relativeAnimation","useEffect","absoluteMovement","pointStyle","pointSize","animationDisplacement","onDrag","_event","left","top","height","borderRadius","background","opacity","PointCanvas","canvasRef","draw","lineStyle","canvasStyle","context","getContext","clearRect","canvas","fillStyle","arc","Math","PI","fill","drawCoordinates","pseudoNormalGenerator","n","randomValue","random","SCAN_RATE","ABSOLUTE_ANIMATION_OPTIONS","label","variable","sigma","speed","RELATIVE_ANIMATION_OPTIONS","radius","freq","clockwise","phase","cos","sin","PositionSetter","setAnimationFrameCount","interval","setInterval","prev","clearInterval","onDoubleClick","handleDoubleClick","pivotalPoints","plotPoints","path","pivotal","emptyArrayIfUndefined","extractVariable","variableRef","forEach","singleV","App","setAnimated","pivotalP","setPivotalP","plotP","setPlotP","absoluteAnimationRef","relativeAnimationRef","absoluteAnimationVariableRef","relativeAnimationVariableRef","plotPosition","rootElement","getAttribute","plotPositionParsed","JSON","parse","setAbsoluteAnimationVariableRef","arr","setRelativeAnimationVariableRef","newIndex","o","handleDragRef","draggedPoint","updateIndex","p","handleDoubleClickRef","toString","obj","ReactCursorPosition","setAttribute","stringify","ReactDOM","render"],"mappings":"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","file":"static/js/main.743545bd.chunk.js","sourcesContent":["import React, { useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./toggleSwitch.css\";\nToggle.propTypes = {\n  onChange: PropTypes.func,\n  value: PropTypes.string,\n  name: PropTypes.string,\n  checked: PropTypes.bool,\n};\nexport default function Toggle(props) {\n  const toggle = useRef();\n  const checkbox = useRef();\n  function handleToggle() {\n    if (props.onChange) props.onChange(checkbox.current.checked);\n    toggle.current.classList.toggle(\"toggled\");\n    checkbox.current.checked = !checkbox.current.checked;\n    if (props.onToggle) props.onToggle(checkbox.current.checked);\n  }\n  return (\n    <div {...props}>\n      <p>{props.name}</p>\n      <input\n        ref={checkbox}\n        name={props.name}\n        className=\"toggle-checkbox\"\n        type=\"checkbox\"\n        defaultChecked={props.value}\n        value={props.value || false}\n      />\n      <span\n        ref={toggle}\n        onClick={handleToggle}\n        className={props.checked ? \"toggled toggle-switch\" : \"toggle-switch\"}\n      >\n        <span className=\"toggle\"></span>\n      </span>\n    </div>\n  );\n}\n","export function positionParser(array) {\n  const pathPoints = [];\n\n  for (let i = 0; i < array.length / 2; i++) {\n    pathPoints.push({\n      x: array[2 * i],\n      y: array[2 * i + 1],\n    });\n  }\n\n  return pathPoints;\n}\n","import Select from \"react-select\";\nimport _ from \"lodash\";\n\nexport default function SelectBox(props) {\n  const onChange = (selectedOption) => {\n    props.onChange(selectedOption);\n  };\n\n  return (\n    <div {...props}>\n      <p>{props.name}</p>\n      <Select options={props.options} onChange={onChange}></Select>\n    </div>\n  );\n}\n","export default function InputBox(props) {\n  const handleCheckboxChange = (event) => {\n    const target = event.target;\n    console.log(target.type);\n    if (target.type === \"checkbox\") {\n      props.handleInputChange({\n        name: target.name,\n        value: target.checked,\n        type: target.type,\n      });\n    }\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const inputElement = document.getElementById(\n      props.name.concat(\"-input-form\")\n    );\n\n    props.handleInputChange({\n      name: inputElement.name,\n      value: Number(inputElement.value),\n      type: inputElement.type,\n    });\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <label>\n        {props.name}:\n        <input\n          id={props.name.concat(\"-input-form\")}\n          type={props.type}\n          name={props.name}\n          onChange={handleCheckboxChange}\n        />\n      </label>\n    </form>\n  );\n}\n","import InputBox from \"./inputBox\";\nimport _ from \"lodash\";\n\nexport default function MultipleInputBox(props) {\n  function handleInputChange(inputChange) {\n    const newInputsInfo = [...props.inputsInfo];\n    const updateIndex = _.findIndex(\n      props.inputsInfo,\n      (info) => info.name === inputChange.name\n    );\n    newInputsInfo[updateIndex] = inputChange;\n    console.log(newInputsInfo);\n    props.handleInputChange(newInputsInfo);\n  }\n\n  return (\n    <div class=\"multiple-input-box\">\n      {props.inputsInfo.map((info) => (\n        <InputBox\n          handleInputChange={handleInputChange}\n          type={info.type}\n          name={info.name}\n        ></InputBox>\n      ))}\n    </div>\n  );\n}\n","const drawFunctionPoints = (ctx, points, style) => {\n  const { color = \"black\", width = 1 } = style;\n\n  function sort_function(a, b) {\n    if (a.x > b.x) return 1;\n    if (a.x < b.x) return -1;\n    if (a.y > b.y) return 1;\n    if (a.y < b.y) return -1;\n  }\n  points.sort(sort_function);\n\n  if (points.length > 1) {\n    ctx.beginPath();\n    points.map((point, index) => {\n      if (index >= points.length - 1) {\n        return;\n      }\n      const nextPoint = points[index + 1];\n      ctx.moveTo(point.x, point.y);\n      ctx.lineTo(nextPoint.x, nextPoint.y);\n    });\n    ctx.strokeStyle = color;\n    ctx.lineWidth = width;\n    ctx.stroke();\n  }\n};\n\nexport default drawFunctionPoints;\n","export default function addPosition(p1, p2) {\n  return { x: p1.x + p2.x, y: p1.y + p2.y };\n}\n","import _ from \"lodash\";\n\nexport default function originIfUndefined(displacement) {\n  return _.isUndefined(displacement) ? { x: 0, y: 0 } : displacement;\n}\n","import React, { useMemo, useEffect, useRef, useState } from \"react\";\nimport Draggable from \"react-draggable\";\nimport _ from \"lodash\";\nimport addPosition from \"../tools/addPosition\";\nimport originIfUndefined from \"../tools/originIfUndefined\";\n\nexport default function FloatingPoint(props) {\n  const initialPosition = useMemo(() => props.point.position, []);\n  const initialAnimationFrameCount = useMemo(\n    () => props.animationFrameCount,\n    []\n  );\n  const absoluteAnimationDisplacementRef = useRef();\n  const relativeAnimationDisplacementRef = useRef();\n\n  const [dragData, setDragData] = useState({\n    x: 0,\n    y: 0,\n    deltaX: 0,\n    deltaY: 0,\n    lastX: 0,\n    lastY: 0,\n  });\n\n  const updatePivotalPoint = () => {\n    const { key } = props.point;\n    const absoluteAnimationDisplacement = originIfUndefined(\n      absoluteAnimationDisplacementRef.current\n    );\n\n    const relativeAnimationDisplacement = originIfUndefined(\n      relativeAnimationDisplacementRef.current\n    );\n\n    const newPosition = addPosition(\n      addPosition(initialPosition, dragData),\n      addPosition(absoluteAnimationDisplacement, relativeAnimationDisplacement)\n    );\n\n    const newPoint = { key, position: newPosition };\n    props.handleDrag(newPoint);\n  };\n\n  const {\n    animated,\n    absoluteAnimation,\n    relativeAnimation,\n    animationFrameCount,\n  } = props;\n\n  useEffect(() => {\n    if (animated) {\n      const absoluteMovement = absoluteAnimation();\n      absoluteAnimationDisplacementRef.current = addPosition(\n        originIfUndefined(absoluteAnimationDisplacementRef.current),\n        absoluteMovement\n      );\n      relativeAnimationDisplacementRef.current = relativeAnimation(\n        animationFrameCount - initialAnimationFrameCount\n      );\n      updatePivotalPoint();\n    }\n  }, [animationFrameCount]);\n\n  const handleDrag = (_event, dragData) => {\n    setDragData(dragData);\n    updatePivotalPoint();\n  };\n\n  const { pointSize, color } = props.pointStyle;\n  const absoluteAnimationDisplacement = originIfUndefined(\n    absoluteAnimationDisplacementRef.current\n  );\n  const relativeAnimationDisplacement = originIfUndefined(\n    relativeAnimationDisplacementRef.current\n  );\n\n  const animationDisplacement = addPosition(\n    relativeAnimationDisplacement,\n    absoluteAnimationDisplacement\n  );\n\n  return (\n    <Draggable onDrag={handleDrag}>\n      <div\n        className=\"drag-wrapper\"\n        style={{\n          position: \"absolute\",\n          left: initialPosition.x + animationDisplacement.x - pointSize,\n          top: initialPosition.y + animationDisplacement.y - pointSize,\n          width: 2 * pointSize,\n          height: 2 * pointSize,\n          borderRadius: \"100%\",\n          background: color,\n          opacity: 0,\n        }}\n      ></div>\n    </Draggable>\n  );\n}\n","import React, { useEffect, useRef } from \"react\";\nimport \"./pointCanvas.css\";\n\nfunction drawCoordinates(ctx, x, y, pointStyle) {\n  const { color = \"#ff2626\", pointSize = 10 } = pointStyle;\n  ctx.beginPath();\n  ctx.fillStyle = color;\n  ctx.arc(x, y, pointSize, 0, 2 * Math.PI);\n  ctx.fill();\n  ctx.stroke();\n}\n\nfunction PointCanvas(props) {\n  const canvasRef = useRef(null);\n  const {\n    draw,\n    pathPoints,\n    points,\n    pointStyle,\n    lineStyle,\n    canvasStyle,\n  } = props;\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext(\"2d\");\n    context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n    draw(context, pathPoints, lineStyle);\n    points.map((point) => {\n      drawCoordinates(context, point.x, point.y, pointStyle);\n    });\n  }, [points, pathPoints]);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      width={canvasStyle.width}\n      height={canvasStyle.height}\n      {...props}\n    />\n  );\n}\n\nexport default PointCanvas;\n","import { SCAN_RATE } from \"../../constant\";\n\nconst pseudoNormalGenerator = (n) => {\n  var randomValue = 0;\n  for (var i = 0; i < n; i++) {\n    randomValue += Math.random();\n  }\n  return (randomValue - n / 2) / (n / 12) ** 2;\n};\n\nexport default function brownianMotion({ sigma }) {\n  return () => {\n    return {\n      x: (sigma * pseudoNormalGenerator(5)) / SCAN_RATE ** 0.5,\n      y: (sigma * pseudoNormalGenerator(5)) / SCAN_RATE ** 0.5,\n    };\n  };\n}\n","import brownianMotion from \"./animations/absoluteAnimations/brownianMotion\";\nimport linear from \"./animations/absoluteAnimations/linear\";\nimport circular from \"./animations/relativeAnimations/circular\";\n\nexport const SCAN_RATE = 60;\n\nexport const ABSOLUTE_ANIMATION_OPTIONS = [\n  { value: () => () => ({ x: 0, y: 0 }), label: \"None\", variable: [] },\n  {\n    value: brownianMotion,\n    label: \"brownianMotion\",\n    variable: [{ name: \"sigma\", value: 5, type: \"number\" }],\n  },\n  {\n    value: linear,\n    label: \"linear\",\n    variable: [\n      { name: \"x\", value: 20, type: \"number\" },\n      { name: \"y\", value: 10, type: \"number\" },\n    ],\n  },\n];\n\nexport const RELATIVE_ANIMATION_OPTIONS = [\n  { value: () => () => ({ x: 0, y: 0 }), label: \"None\", variable: [] },\n  {\n    value: circular,\n    label: \"circular\",\n    variable: [\n      { name: \"radius\", value: 10, type: \"number\" },\n      { name: \"freq\", value: 1, type: \"number\" },\n      { name: \"clockwise\", value: true, type: \"checkbox\" },\n    ],\n  },\n];\n","import { SCAN_RATE } from \"../../constant\";\n\nexport default function linear(speed) {\n  return () => {\n    return {\n      x: speed.x / SCAN_RATE,\n      y: speed.y / SCAN_RATE,\n    };\n  };\n}\n","import { SCAN_RATE } from \"../../constant\";\n\nexport default function circular({ radius, freq, clockwise }) {\n  return (animationFrameCount) => {\n    const phase = clockwise\n      ? (-2 * Math.PI * freq * animationFrameCount) / SCAN_RATE\n      : (2 * Math.PI * freq * animationFrameCount) / SCAN_RATE;\n\n    return {\n      x: radius * Math.cos(phase) - radius,\n      y: radius * Math.sin(phase),\n    };\n  };\n}\n","import React, { useEffect, useState } from \"react\";\nimport drawFunctionPoints from \"./drawing/drawFunctionPoints\";\nimport FloatingPoint from \"./components/floatingPoint\";\nimport PointCanvas from \"./canvas/pointCanvas\";\nimport _ from \"lodash\";\nimport { SCAN_RATE } from \"./constant\";\n\nexport default function PositionSetter(props) {\n  const appendPoint = () => {\n    const { position } = props;\n    props.handleDoubleClick(position);\n  };\n\n  const [animationFrameCount, setAnimationFrameCount] = useState(0);\n\n  const {\n    animated,\n    absoluteAnimation,\n    relativeAnimation,\n    lineWidth,\n    style,\n  } = props;\n  const { pointSize } = style;\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (animated) {\n        setAnimationFrameCount((prev) => prev + 1);\n      }\n    }, 1000 / SCAN_RATE);\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, [animated]);\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        height: \"100%\",\n        width: \"100%\",\n      }}\n      onDoubleClick={appendPoint}\n    >\n      {props.pivotalPoints.map((point) => {\n        return (\n          <FloatingPoint\n            animated={animated}\n            absoluteAnimation={absoluteAnimation}\n            relativeAnimation={relativeAnimation}\n            animationFrameCount={animationFrameCount}\n            handleDrag={props.handleDrag}\n            point={point}\n            pointStyle={{ pointSize: 10, color: \"yellow\" }}\n          />\n        );\n      })}\n      <PointCanvas\n        draw={drawFunctionPoints}\n        pathPoints={props.plotPoints.path}\n        points={props.plotPoints.pivotal}\n        lineStyle={{ color: \"black\", width: lineWidth }}\n        pointStyle={{ color: \"red\", pointSize: pointSize }}\n        canvasStyle={{ width: 7200, height: 4000 }}\n      />\n    </div>\n  );\n}\n","import _ from \"lodash\";\n\nexport default function emptyArrayIfUndefined(array) {\n  return _.isUndefined(array) ? [] : array;\n}\n","import emptyArrayIfUndefined from \"./emptyArrayIfUndefined\";\n\nexport default function extractVariable(variableRef) {\n  const variable = {};\n  const target = emptyArrayIfUndefined(variableRef.current);\n  target.forEach((singleV) => {\n    variable[singleV.name] = singleV.value;\n  });\n  return variable;\n}\n","import ReactDOM from \"react-dom\";\nimport ReactCursorPosition from \"react-cursor-position\";\nimport Toggle from \"./components/toggleSwitch\";\nimport _ from \"lodash\";\nimport React, { useRef, useEffect, useState } from \"react\";\nimport { positionParser } from \"./api/parsePoints\";\nimport SelectBox from \"./components/selectBox\";\nimport MultipleInputBox from \"./components/multipleInputBox\";\n\nimport \"./styles.css\";\nimport PositionSetter from \"./pointSetter\";\n\nimport emptyArrayIfUndefined from \"./tools/emptyArrayIfUndefined\";\nimport extractVariable from \"./tools/extractVariable\";\n\nimport {\n  ABSOLUTE_ANIMATION_OPTIONS,\n  RELATIVE_ANIMATION_OPTIONS,\n} from \"./constant\";\n\nconst pivotalPoints = [];\n\nfunction App() {\n  const [animated, setAnimated] = useState(false);\n  const [pivotalP, setPivotalP] = useState([]);\n  const [plotP, setPlotP] = useState({ path: [], pivotal: [] });\n\n  const absoluteAnimationRef = useRef(ABSOLUTE_ANIMATION_OPTIONS[0]);\n  const relativeAnimationRef = useRef(RELATIVE_ANIMATION_OPTIONS[0]);\n  const absoluteAnimationVariableRef = useRef(\n    absoluteAnimationRef.current.variable\n  );\n  const relativeAnimationVariableRef = useRef(\n    relativeAnimationRef.current.variable\n  );\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setPivotalP([...pivotalPoints]);\n      const plotPosition = rootElement.getAttribute(\"plotPosition\");\n      const plotPositionParsed =\n        plotPosition == null\n          ? { path: [], pivotal: [] }\n          : JSON.parse(plotPosition);\n      plotPositionParsed.path = positionParser(plotPositionParsed.path);\n      plotPositionParsed.pivotal = positionParser(plotPositionParsed.pivotal);\n      setPlotP(plotPositionParsed);\n    }, 1000 / 60);\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, []);\n\n  const setAbsoluteAnimationRef = (obj) => {\n    absoluteAnimationRef.current = obj;\n  };\n  const setRelativeAnimationRef = (obj) => {\n    relativeAnimationRef.current = obj;\n  };\n\n  const setAbsoluteAnimationVariableRef = (arr) => {\n    absoluteAnimationVariableRef.current = arr;\n  };\n\n  const setRelativeAnimationVariableRef = (arr) => {\n    relativeAnimationVariableRef.current = arr;\n  };\n\n  useEffect(() => {\n    const newIndex = _.findIndex(\n      ABSOLUTE_ANIMATION_OPTIONS,\n      (o) => o.label === absoluteAnimationRef.current.label\n    );\n\n    setAbsoluteAnimationVariableRef(\n      ABSOLUTE_ANIMATION_OPTIONS[newIndex].variable\n    );\n  }, [absoluteAnimationRef.current]);\n\n  useEffect(() => {\n    const newIndex = _.findIndex(\n      RELATIVE_ANIMATION_OPTIONS,\n      (o) => o.label === relativeAnimationRef.current.label\n    );\n\n    setRelativeAnimationVariableRef(\n      RELATIVE_ANIMATION_OPTIONS[newIndex].variable\n    );\n  }, [relativeAnimationRef.current]);\n\n  const handleDragRef = useRef();\n  handleDragRef.current = (draggedPoint) => {\n    const updateIndex = _.findIndex(\n      pivotalPoints,\n      (p) => p.key === draggedPoint.key\n    );\n    pivotalPoints[updateIndex] = draggedPoint;\n  };\n\n  const handleDoubleClickRef = useRef();\n  handleDoubleClickRef.current = (position) => {\n    const MAX_POINT_NUM = 100;\n    const key = Math.random().toString(36);\n    if (pivotalPoints.length < MAX_POINT_NUM) {\n      pivotalPoints.push({ position, key });\n    }\n  };\n\n  return (\n    <div>\n      <div class=\"select-container\">\n        <Toggle id=\"left\" name=\"Animated?\" onToggle={setAnimated} />\n        <SelectBox\n          id=\"center\"\n          name=\"Absolute Animation\"\n          label=\"absoluteAnimation\"\n          options={ABSOLUTE_ANIMATION_OPTIONS}\n          onChange={setAbsoluteAnimationRef}\n        ></SelectBox>\n        <MultipleInputBox\n          inputsInfo={emptyArrayIfUndefined(\n            absoluteAnimationVariableRef.current\n          )}\n          handleInputChange={setAbsoluteAnimationVariableRef}\n        ></MultipleInputBox>\n        <SelectBox\n          id=\"right\"\n          name=\"Relative Animation\"\n          label=\"relativeAnimation\"\n          options={RELATIVE_ANIMATION_OPTIONS}\n          onChange={setRelativeAnimationRef}\n        ></SelectBox>\n        <MultipleInputBox\n          inputsInfo={emptyArrayIfUndefined(\n            relativeAnimationVariableRef.current\n          )}\n          handleInputChange={setRelativeAnimationVariableRef}\n        ></MultipleInputBox>\n      </div>\n\n      <ReactCursorPosition style={{ position: \"absolute\" }}>\n        <PositionSetter\n          style={{ pointSize: 10, lineWidth: 5 }}\n          animated={animated}\n          relativeAnimation={relativeAnimationRef.current.value(\n            extractVariable(relativeAnimationVariableRef)\n          )}\n          absoluteAnimation={absoluteAnimationRef.current.value(\n            extractVariable(absoluteAnimationVariableRef)\n          )}\n          handleDoubleClick={handleDoubleClickRef.current}\n          handleDrag={handleDragRef.current}\n          pivotalPoints={pivotalP}\n          plotPoints={plotP === null ? [] : plotP}\n        />\n      </ReactCursorPosition>\n    </div>\n  );\n}\nconst rootElement = document.getElementById(\"root\");\n\nsetInterval(() => {\n  const str = \"\";\n  rootElement.setAttribute(\n    \"pivotalPosition\",\n    str.concat(\n      \"[\",\n      pivotalPoints\n        .map((point) => JSON.stringify([point.position.x, point.position.y]))\n        .toString(),\n      \"]\"\n    )\n  );\n}, 1000 / 60);\n\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}