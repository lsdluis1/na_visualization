(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{24:function(t,e,n){},28:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var i=n(3),o=n(7),a=n.n(o),c=n(13),r=n(0),l=(n(24),n(1));function u(t){var e=Object(r.useRef)(),n=Object(r.useRef)();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{ref:n,name:t.name,className:"toggle-checkbox",type:"checkbox",defaultChecked:t.value,value:t.value||!1}),Object(l.jsx)("span",{ref:e,onClick:function(){t.onChange&&t.onChange(n.current.checked),e.current.classList.toggle("toggled"),n.current.checked=!n.current.checked,t.onToggle&&t.onToggle(n.current.checked)},className:t.checked?"toggled toggle-switch":"toggle-switch",children:Object(l.jsx)("span",{className:"toggle"})})]})}var s=n(5),h=n.n(s);function f(t){for(var e=[],n=0;n<t.length/2;n++)e.push({x:t[2*n],y:t[2*n+1]});return e}n(28);var d=function(t,e,n){var i=n.color,o=void 0===i?"black":i,a=n.width,c=void 0===a?1:a;e.sort((function(t,e){return t.x>e.x?1:t.x<e.x?-1:t.y>e.y?1:t.y<e.y?-1:void 0})),e.length>1&&(t.beginPath(),e.map((function(n,i){if(!(i>=e.length-1)){var o=e[i+1];t.moveTo(n.x,n.y),t.lineTo(o.x,o.y)}})),t.strokeStyle=o,t.lineWidth=c,t.stroke())},p=n(12),b=n.n(p);function v(t){var e=Object(r.useMemo)((function(){return t.point.position}),[]),n=Object(r.useMemo)((function(){return t.animationFrameCount}),[]),o=Object(r.useRef)(),a=Object(r.useState)({x:0,y:0,deltaX:0,deltaY:0,lastX:0,lastY:0}),c=Object(i.a)(a,2),u=c[0],s=c[1],f=function(){var n=t.point.key,i=h.a.isUndefined(o.current)?{x:0,y:0}:o.current,a={key:n,position:{x:e.x+i.x+u.x,y:e.y+i.y+u.y}};t.handleDrag(a)},d=t.animated,p=t.animation,v=t.animationFrameCount;Object(r.useEffect)((function(){d&&(o.current=p(v-n),f())}),[v]);var j=t.pointStyle,g=j.pointSize,y=j.color,O=h.a.isUndefined(o.current)?{x:0,y:0}:o.current;return Object(l.jsx)(b.a,{onDrag:function(t,e){s(e),f()},children:Object(l.jsx)("div",{className:"drag-wrapper",style:{position:"absolute",left:e.x+O.x-g,top:e.y+O.y-g,width:2*g,height:2*g,borderRadius:"100%",background:y,opacity:0}})})}var j=n(14);n(33);var g=function(t){var e=Object(r.useRef)(null),n=t.draw,i=t.pathPoints,o=t.points,a=t.pointStyle,c=t.lineStyle,u=t.canvasStyle;return Object(r.useEffect)((function(){var t=e.current.getContext("2d");t.clearRect(0,0,t.canvas.width,t.canvas.height),n(t,i,c),o.map((function(e){!function(t,e,n,i){var o=i.color,a=void 0===o?"#ff2626":o,c=i.pointSize,r=void 0===c?10:c;t.beginPath(),t.fillStyle=a,t.arc(e,n,r,0,2*Math.PI),t.fill(),t.stroke()}(t,e.x,e.y,a)}))}),[o,i]),Object(l.jsx)("canvas",Object(j.a)({ref:e,width:u.width,height:u.height},t))};function y(t){var e=Object(r.useState)(0),n=Object(i.a)(e,2),o=n[0],a=n[1],c=t.animated,u=t.animation,s=t.lineWidth,h=t.style.pointSize;return Object(r.useEffect)((function(){var t=setInterval((function(){c&&a((function(t){return t+1}))}),1e3/60);return function(){clearInterval(t)}}),[c]),Object(l.jsxs)("div",{style:{position:"absolute",height:"100%",width:"100%",background:"skyblue"},onDoubleClick:function(){var e=t.position;t.handleDoubleClick(e)},children:[t.pivotalPoints.map((function(e){return Object(l.jsx)(v,{animated:c,animation:u,animationFrameCount:o,handleDrag:t.handleDrag,point:e,pointStyle:{pointSize:10,color:"yellow"}})})),Object(l.jsx)(g,{draw:d,pathPoints:t.plotPoints.path,points:t.plotPoints.pivotal,lineStyle:{color:"black",width:s},pointStyle:{color:"red",pointSize:h},canvasStyle:{width:1600,height:1e3}})]})}var O=[];function x(t){var e=Object(r.useState)(!1),n=Object(i.a)(e,2),o=n[0],a=n[1],s=Object(r.useState)([]),d=Object(i.a)(s,2),p=d[0],b=d[1],v=Object(r.useState)({path:[],pivotal:[]}),j=Object(i.a)(v,2),g=j[0],x=j[1];Object(r.useEffect)((function(){var t=setInterval((function(){b([].concat(O));var t=m.getAttribute("plotPosition"),e=null==t?{path:[],pivotal:[]}:JSON.parse(t);e.path=f(e.path),e.pivotal=f(e.pivotal),x(e)}),1e3/60);return function(){clearInterval(t)}}),[]);var k=Object(r.useRef)();k.current=function(t){var e=h.a.findIndex(O,(function(e){return e.key===t.key}));O[e]=t};var S=Object(r.useRef)();return S.current=function(t){var e=Math.random().toString(36);O.length<100&&O.push({position:t,key:e})},Object(l.jsxs)("div",{children:[t.testString,Object(l.jsx)(u,{onToggle:a}),Object(l.jsx)(c.a,{style:{position:"absolute"},children:Object(l.jsx)(y,{style:{pointSize:10,lineWidth:5},animated:o,animation:function(t){return{x:100*Math.cos(t*(Math.PI/100))-100,y:100*Math.sin(t*(Math.PI/100))}},handleDoubleClick:S.current,handleDrag:k.current,pivotalPoints:p,plotPoints:null===g?[]:g})})]})}var m=document.getElementById("root");setInterval((function(){m.setAttribute("pivotalPosition","".concat("[",O.map((function(t){return JSON.stringify([t.position.x,t.position.y])})).toString(),"]"))}),1e3/60),a.a.render(Object(l.jsx)(x,{testString:null}),m)}},[[34,1,2]]]);
//# sourceMappingURL=main.5ac01eb2.chunk.js.map